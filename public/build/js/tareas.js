!function(){function t(t,e,n){const a=document.createElement("DIV");a.classList.add("alerta",e),a.textContent=t,n.parentElement.insertBefore(a,n.nextElementSibling),setTimeout(()=>{a.remove()},5e3)}document.getElementById("agregar-tarea").addEventListener("click",(function(){const e=document.createElement("DIV");e.classList.add("modal"),e.innerHTML='\n\t\t\t<form class="formulario nueva-tarea">\n\t\t\t\t<legend>Agrega una Nueva Tarea</legend>\n\t\t\t\t<div class="campo">\n\t\t\t\t\t<label>Tarea</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype="text"\n\t\t\t\t\t\tname="tarea"\n\t\t\t\t\t\tplaceholder="Añadir Tarea"\n\t\t\t\t\t\tid="tarea"\n\t\t\t\t\t/>\n\t\t\t\t</div>\t\n\t\t\t\t<div class="opciones">\n\t\t\t\t\t<input type="submit" class="submit-nueva-tarea" value="Añadir Tarea"/>\n\t\t\t\t\t<button type="button" class="cerrar-modal">Cancelar</button>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t',setTimeout(()=>{document.querySelector(".formulario").classList.add("animar")},0),e.addEventListener("click",(function(n){if(n.preventDefault(),n.target.classList.contains("cerrar-modal")){document.querySelector(".formulario").classList.add("cerrar"),setTimeout(()=>{e.remove()},500)}n.target.classList.contains("submit-nueva-tarea")&&function(){const e=document.getElementById("tarea").value.trim(),n=document.querySelector(".formulario legend");if(""===e){const e="El Titulo es Obligatorio";return function(t,e){t.forEach(t=>{e===t.textContent&&t.remove()})}(document.querySelectorAll("form .alerta"),e),void t(e,"error",n)}!async function(e){const n=new FormData;n.append("nombre",e);const a=function(){const t=new URLSearchParams(window.location.search);return Object.fromEntries(t.entries()).id}();n.append("url",a);try{const e="http://localhost:3000/api/tarea",a=await fetch(e,{method:"POST",body:n}),o=await a.json(),r=document.querySelector(".formulario legend");if(t(o.mensaje,o.tipo,r),"exito"===o.tipo){const t=document.querySelector(".modal");setTimeout(()=>{t.remove()},3e3)}}catch(t){console.log(t)}}(e)}()})),document.querySelector(".dashboard").appendChild(e)}))}();